generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model Superhero {
  id                String   @id @default(uuid())
  nickname          String
  realName          String   @map("real_name")
  originDescription String   @map("origin_description")
  superpowers       String[]
  catchPhrase       String   @map("catch_phrase")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  images SuperheroImage[]

  @@map("superheroes")
}

model SuperheroImage {
  id          String @id @default(uuid())
  superheroId String @map("superhero_id")
  imagePath   String @map("image_path")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  superhero Superhero @relation(fields: [superheroId], references: [id], onDelete: Cascade)

  @@index([superheroId], name: "idx_superhero_id")
  @@map("superhero_images")
}
